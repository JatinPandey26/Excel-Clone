implemment update function and functionalities.

work on directed graph
